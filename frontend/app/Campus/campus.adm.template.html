<menu-principal></menu-principal>

<div id="content">
    <div class="inner">

        <article class="box post post-excerpt">
            <header>
                <h2><p>Gerenciar Campus</p></h2>
            </header>
            
            <div>
                <div>
                    <div>
                        <tbody>
                            <td><input type="submit" value="Listar" ng-click=Listar() /></td>
                            <td><input type="button" value="Cadastrar" ng-click=Gravar() /></td>
                            <td><input type="button" value="Editar" ng-click=Editar() /></td>
                        </tbody>
                    </div>
                </div>
            </div>
        <br><br>

<!-- Resultado do comando de Listar -->            
            <section  ng-if='listando'>
            <div>
                <div>
                    <div class="table-responsive">
                        <table class = "table table-bordered table-striped table-hover">
                            <tbody>
                                <tr ng-repeat="campus in $ctrl.campus">
                                    <td> {{campus.id}} </td>
                                    <td><b>{{campus.nome}}</b></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            </section>
            
<!-- Formulario para cadastrar -->
            <section  ng-if='gravando'>
            <div>
                <div>
                    <div class="table-responsive">
                        <table class = "table table-bordered table-striped table-hover">
                            <tbody>
                                <tr>
                                    <td>
                                        <input class="form-control" placeholder="Nome do Campus" ng-model="$ctrl.formulario.nome" type="text" required class="form-control" autofocus>
                                    </td>
                                    <td>
                                        <input type="submit" value="Gravar" ng-click='$ctrl.Cadastrar()' />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div><b>{{logCadastro}}</b>
            </div>
            </section>

<!-- Formulario para selecionar o campus a editar -->            
            <section  ng-if='editando'>
            <div>
                <div class="panel-body">
                    <form role="form">
                        <fieldset>
                            <div class="form-group">
                                <input class="form-control" placeholder="Nome do Campus" ng-model="$ctrl.campus.nome" type="text" autofocus>
                            </div>
                        </fieldset>
                    </form>
                </div>
                <div>
                    <div class="table-responsive">
                        <table class = "table table-bordered table-striped table-hover">
                            <tbody>
                                <tr ng-repeat="campus in $ctrl.campus | filter: $ctrl.campus.nome">
                                    <td>{{campus.id}}</td>
                                    <td>{{campus.nome}}</td>
                                    <td>
                                        <input type="submit" value="Selecionar" ng-click='$ctrl.Selecionar(campus)' />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            </section>

            
<!-- Formulario para selecionar o campus a editar -->            
            <section  ng-if='selecionado'>
            <div>
                <div>
                    <div class="table-responsive">
                        <table class = "table table-bordered table-striped table-hover">
                            <tbody>
                                <tr>
                                    <td>{{campus.id}}</td>
                                    <td>
                                        <input type="text" value={{campus.nome}} ng-model="$ctrl.campus.nome" autofocus >
                                    </td>
                                    <td>
                                        <input type="submit" value="Editar" ng-click='$ctrl.Editar(campus.id)' />
                                    </td>
                                    <td>
                                        <input type="submit" value="Deletar" ng-click='$ctrl.Deletar(campus.id)' />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div><b>{{logEdicao}}</b>
            </div>
            </section>
            
        </article>
                            </div>
    </div>
